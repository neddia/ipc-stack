# Image pinning (update SITE_AGENT_VERSION to upgrade/rollback)
SITE_AGENT_IMAGE=ghcr.io/neddia/site-agent
SITE_AGENT_VERSION=latest
GATEWAYD_IMAGE=ghcr.io/neddia/gatewayd
GATEWAYD_VERSION=latest
GATEWAYD_NODE_ID=edge-node-1
GATEWAYD_TOKEN=devtoken

# Dev override (optional). When set, compose uses this env file path.
# ENV_FILE=.env.dev

# mDNS service (avahi) for UI discovery
SETPOINT_UI_PORT=8000

# Host storage path (persisted across container updates)
IPC_STORAGE_DIR=/opt/site-agent/storage
IPC_SECRETS_DIR=/opt/site-agent/.secrets

# Run site-agent as a non-root user (match storage ownership)
SITE_AGENT_UID=1000
SITE_AGENT_GID=1000

# Influx (local)
INFLUX_URL=http://influxdb:8086
# For bootstrap scripts that run on the host (hits host-mapped port)
INFLUX_BOOTSTRAP_URL=http://127.0.0.1:8086
INFLUX_ORG=edge-org
INFLUX_BUCKET=edge-site
INFLUX_RETENTION=30d
TELEGRAF_BUCKET=telegraf
TELEGRAF_RETENTION=14d
TELEGRAF_CONF=telegraf.conf

# Site-agent runtime
LOG_LEVEL=INFO
SITE_CONFIG_PATH=/app/storage/site-config.yml
PROFILES_DIR=/app/app/profiles

# Edge TCP bridge
EDGE_TCP_PORT=3333

# Cloud control plane
# CLOUD_BASE_URL=https://toopscontrols.com
CLOUD_TIMEOUT_SECONDS=3
IPC_IDENTITY_PATH=/app/storage/ipc/identity.json
# Tailnet IP (auto-detected by dev-up/install; override if needed)
# TAILSCALE_IP=100.64.0.1

# Debug (optional)
# GATEWAYD_HY_TRACE=1

# Dev-only examples (uncomment for local dev)
# IPC_STORAGE_DIR=../setpoint/storage
# IPC_SECRETS_DIR=../ipc-secrets
# TELEGRAF_CONF=telegraf.dev.conf
